<script type="text/template" id="search-modal-template">
<div id="searchModal" class="modal hide fade" 
	tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
			  
	  <div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
	    <h3 id="searchModalLabel">Search Person</h3>
	  </div>

	  <div class="modal-body">
      
      <form class="searchForm form-horizontal">
      
		  	<div class="row-fluid">
		  		<div class="span1"></div>
		  		
		  		<div class="span4">
		  		  <label class="control-label" for="inputEmail">Search Person By</label>
		  		</div>
		  		
		  		<div class="span4">
	
		  			<select name="condition" id="condition">
	   					<option value="measure">Measure</option>
	   					<option value="birthdate">Birthdate</option>
	   					<option value="text">Text</option>
	 					</select>
	
					</div>
		  		<div class="span2"></div>
		  	</div>
	
		  	<hr/>
		  	
		  	<div id="form-container"></div>
      
     </form>
	  
	  </div>

	  <div class="modal-footer">
	    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
	    <button type="button" id="searchButton" class="btn btn-primary"><i class="icon-search icon-white"></i> Search</button>
	  </div>
  
</div>

<script type="text/javascript">
	$(document).ready(function(){

		$("div#form-container").load("/../ajax/measureForm.html");

		$("select#condition").change(function(){
			var val = $("select#condition").val();
			if (val == "measure"){
				$("div#form-container").load("/../ajax/measureForm.html");
			} else if (val == "birthdate"){
				$("div#form-container").load("/../ajax/birthdateForm.html");
			} else {
				$("div#form-container").load("/../ajax/nameForm.html");
			}
		});
		
		$("button#searchButton").click(function(){
			$("form.searchForm").submit();
			$("button#searchButton").closest("div#searchModal").modal('hide');
		});
	});
</script>
</script>